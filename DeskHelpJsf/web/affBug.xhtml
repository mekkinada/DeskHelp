<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<f:view transient="true" 
        xmlns:f="http://xmlns.jcp.org/jsf/core">
    <html xmlns="http://www.w3.org/1999/xhtml"
          xmlns:h="http://xmlns.jcp.org/jsf/html"
          xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
          xmlns:f="http://xmlns.jcp.org/jsf/core"
           xmlns:p="http://primefaces.org/ui"
          >
        <ui:composition  template="/template/template.xhtml">
            <ui:define name="css" >
                <h:outputStylesheet library="css" name="bootstrap.min.css" />
                <h:outputStylesheet library="css" name="dashboard.css" />    
            </ui:define>

            <ui:define name="js">
                <h:outputScript library="js" name="bootstrap.min.js" />
                <h:outputScript library="js" name="jquery-1.11.1.js" />
            </ui:define>

             <ui:define name="header" >
             <img src="resources/css/arabsoft.png"       width="180" align="left" /> 
            </ui:define>

            <ui:define name="content">
                                       <div class="container">
                                                                   <div class="row">
                                                                                      <div class="col-lg-12">

               <h:form id="intervention-form" prependId="false" >

                                <center>
    <h2>Decbug disponible</h2>
                                    <br/>
                                    
                                    
                                    <p:panel header="List  Dec-Bug ">
                         
                                           <p:dataTable 
                                            var="bug"
                                            value="#{decbugController.showAllIDecbug()}"
                                            class="table table-inverse table-hover table-striped table-bordered  text-center table-condensed">

                           
                                            <p:column>
                                                <f:facet name="header">Code</f:facet>
                                                <h:outputText value="#{bug.idDecbug}" />
                                            </p:column>
                                            
                                            <p:column>
                                                <f:facet name="header">Titre</f:facet>
                                                <h:outputText value="#{bug.titre}" />
                                            </p:column>
                                            
                                            <p:column>
                                                <f:facet name="header">Date-debut</f:facet>
                                                <h:outputText value="#{bug.datedebut}" />
                                            </p:column>


                                            <p:column>
                                                <f:facet name="header">Date-fin</f:facet>
                                                <h:outputText value="#{bug.datefin}" />
                                            </p:column>

                                             <p:column>
                                                <f:facet name="header">Validation</f:facet>
                                                <h:outputText value="#{bug.activeDecbug}" />
                                            </p:column>

                  <p:column >
                                                <f:facet name="header" >Mettre à jour validée</f:facet>
                                                
                                            <h:commandLink   value="valide" style="color: black"
                                                             action="#{decbugController.setBugToValid(bug)}"  
                                                                class="btn btn-info "
                                                                  role="button"  >
                                                   <span class="glyphicon glyphicon-trash"></span>
                                                </h:commandLink>
               </p:column>
                           
                                       

                                            <p:column >
                                                <f:facet name="header" >Options</f:facet>
                            
                                                <h:commandLink  value="Effacer" style="color: black"
                                                                action="#{decbugController.deleteBug(bug)}"  
                                                                onclick="return confirm('Êtes-vous sûr??')" 
                                                                class="btn btn-danger " 
                                                                role="button">
                                                <span class="glyphicon glyphicon-trash"></span>
                                                </h:commandLink>
                                                
                                             
                                                 
                                            
                                              <h:commandLink   value="Mettre à jour" style="color: black"
                                                                action="#{decbugController.setBugToUpdate(bug)}"  
                                                                class="btn btn-info "
                                                                  role="button"  >
                                                   <span class="glyphicon glyphicon-trash"></span>
                                                </h:commandLink>
                                                
                                            </p:column>
                                            
                                            
                 


                                        </p:dataTable>
                                        
                              </p:panel>

                                </center>

                            </h:form>
                        </div>
                    </div>
                </div>
            </ui:define>
        </ui:composition>
    </html>
</f:view>